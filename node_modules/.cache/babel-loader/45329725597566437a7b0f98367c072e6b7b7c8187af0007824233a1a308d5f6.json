{"ast":null,"code":"import _defineProperty from\"/Users/yash/Downloads/FRONT END TECH/react/crud/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/Users/yash/Downloads/FRONT END TECH/react/crud/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/yash/Downloads/FRONT END TECH/react/crud/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import{toast}from'react-toastify';import{useParams,useNavigate}from'react-router-dom';import UserApi from'../API/UserApi';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function Update(){var params=useParams();var history=useNavigate();// console.log('useparams',params);\nvar _useState=useState({name:\"\",email:\"\",mobile:\"\",address:\"\"}),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setUser=_useState2[1];useEffect(function(){UserApi.getSingle(params.id).then(function(res){console.log(res.data);setUser(res.data);}).catch(function(err){return toast.error(err.message);});},[]);var submitHandler=function submitHandler(e){e.preventDefault();try{UserApi.update(user,params.id).then(function(res){setUser(res.data);toast.success(\"data updates successfully\");//  window.location.href=\"/\";\nhistory(\"/\");}).catch(function(err){return toast.error(err.message);});}catch(error){toast.error(error.messgae);}};var readonly=function readonly(e){var _e$target=e.target,name=_e$target.name,value=_e$target.value;setUser(_objectSpread(_objectSpread({},user),{},_defineProperty({},name,value)));};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-12 text-center\",children:/*#__PURE__*/_jsx(\"h3\",{className:\"display-3\",children:\"Edit user details\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-md-8 m-auto\",children:/*#__PURE__*/_jsxs(\"form\",{autoComplete:\"off\",onSubmit:submitHandler,children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"name\",className:\"form-label\",children:\"Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"name\",id:\"name\",className:\"form-control\",value:user.name,onChange:readonly}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",className:\"form-label\",children:\"email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"email\",id:\"email\",className:\"form-control\",value:user.email,onChange:readonly}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"mobile\",className:\"form-label\",children:\"mobile\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"mobile\",id:\"mobile\",className:\"form-control\",value:user.mobile,onChange:readonly}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"addresss\",className:\"form-label\",children:\"address\"}),/*#__PURE__*/_jsx(\"textarea\",{name:\"address\",id:\"address\",cols:\"30\",rows:\"5\",className:\"form-control\",value:user.address,onChange:readonly}),/*#__PURE__*/_jsx(\"input\",{type:\"submit\",value:\"Update\",className:\"btn btn-success mt-2\"})]})})})]})})});}export default Update;","map":{"version":3,"names":["React","useEffect","useState","toast","useParams","useNavigate","UserApi","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Update","params","history","_useState","name","email","mobile","address","_useState2","_slicedToArray","user","setUser","getSingle","id","then","res","console","log","data","catch","err","error","message","submitHandler","e","preventDefault","update","success","messgae","readonly","_e$target","target","value","_objectSpread","_defineProperty","children","className","autoComplete","onSubmit","htmlFor","type","onChange","cols","rows"],"sources":["/Users/yash/Downloads/FRONT END TECH/react/crud/src/component/Update.js"],"sourcesContent":["import React,{useEffect,useState} from 'react'\r\nimport {toast} from 'react-toastify';\r\nimport {useParams,useNavigate} from 'react-router-dom';\r\nimport UserApi from '../API/UserApi'\r\nfunction Update() {\r\n    const params=useParams();\r\n    let history=useNavigate();\r\n\r\n    // console.log('useparams',params);\r\n    const[user,setUser]=useState({\r\n        name:\"\",\r\n        email:\"\",\r\n        mobile:\"\",\r\n        address:\"\"\r\n    })\r\n    useEffect(()=>{\r\n            UserApi.getSingle(params.id).then(res=>{\r\n                console.log(res.data);\r\n                setUser(res.data);\r\n            }).catch(err=>toast.error(err.message));\r\n    },[])\r\n\r\n    const submitHandler=(e)=>{\r\n        e.preventDefault();\r\n\r\n        try{\r\n            UserApi.update(user,params.id).then(res=>{\r\n             setUser(res.data);\r\n             toast.success(\"data updates successfully\");\r\n            //  window.location.href=\"/\";\r\n            history(\"/\");\r\n            }).catch(err=>toast.error(err.message));\r\n        \r\n    \r\n        }catch(error){\r\n            toast.error(error.messgae);\r\n        }\r\n        \r\n    }\r\n    const readonly=(e)=>{\r\n        const {name,value}=e.target; \r\n        setUser({...user,[name]:value})       \r\n    }\r\n  return (\r\n        <>\r\n            <div className=\"container\">\r\n                <div className=\"row\">\r\n                    <div className=\"col-md-12 text-center\">\r\n                        <h3 className=\"display-3\">Edit user details</h3>\r\n                    </div>\r\n                    <div className=\"row\">\r\n                        <div className=\"col-md-8 m-auto\">\r\n                            <form autoComplete='off' onSubmit={submitHandler}>\r\n                                <label htmlFor=\"name\" className=\"form-label\">Name</label>\r\n                                <input type=\"text\" name=\"name\" id=\"name\" className=\"form-control\" value={user.name} onChange={readonly}/>\r\n                                <label htmlFor=\"email\" className=\"form-label\">email</label>\r\n                                <input type=\"email\" name=\"email\" id=\"email\" className=\"form-control\"value={user.email}onChange={readonly} />\r\n                                <label htmlFor=\"mobile\" className=\"form-label\">mobile</label>\r\n                                <input type=\"text\" name=\"mobile\" id=\"mobile\" className=\"form-control\" value={user.mobile} onChange={readonly}/>\r\n                                <label htmlFor=\"addresss\" className=\"form-label\">address</label>\r\n                                <textarea name=\"address\" id=\"address\" cols=\"30\" rows=\"5\" className=\"form-control\" value={user.address} onChange={readonly}></textarea>\r\n                                <input type=\"submit\" value=\"Update\" className=\"btn btn-success mt-2\" />\r\n                            </form>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Update"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}